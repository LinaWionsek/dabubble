@if(usedFor === 'channel'){
    <div class="history-container">
        @for (dateKey of sortedDateKeys(groupedChannelMessages); track $index) {

            @for (message of groupedChannelMessages[dateKey]; track $index) {
                <app-message 
                    [channelId]="channelId"
                    [chatId]="chatId"
                    [currentUser]="currentUser"
                    [usedFor]="'channel'"
                    [message]="message">
                </app-message>
            }
    
            <app-seperator [date]="dateKey"></app-seperator>
        }
    </div>
} @else if (usedFor === 'thread') {
    <div class="history-container">
        <div class="answers-div">
            @for (answer of allMessageAnswers; track $index) {
                <app-message
                    [currentUser]="currentUser"
                    [message]="answer"
                    [usedFor]="'thread'"
                    [messageAnswers$]="activeMessageAnswers$"
                ></app-message>
            }
        </div>
        <div class="seperator-div">
            @if(allMessageAnswers && allMessageAnswers.length > 0){
                <span class="answer-count">{{allMessageAnswers.length}} @if(allMessageAnswers.length > 1 || allMessageAnswers.length === 0){Antworten} @else {Antwort}</span>
            }
            <div class="seperator"></div>
        </div>
        <div class="active-message-div">
            <app-message [message]="activeMessage"></app-message>
        </div>
    </div>
    

} @else if(usedFor === 'dm-chat'){
    <div class="history-container">
        @if(allChatMessages.length === 0){
            <div class="default-dm-view">
                <div class="user-div">
                    <img src="{{userData?.avatar}}" class="large-user-img">
                    <span class="user-name-span">{{userData?.firstName + ' ' + userData?.lastName}}</span>
                </div>
                <span class="info-span">Diese Unterhaltung findet nur zwischen dir und <span class="blue">&#64;{{userData?.firstName + ' ' + userData?.lastName}}</span> statt.</span>
            </div>
        } @else {
            <div class="history-container">
                @for (dateKey of sortedDateKeys(groupedChatMessages); track $index) {
        
                    @for (message of groupedChatMessages[dateKey]; track $index) {
                        <app-message 
                            [channelId]="channelId"
                            [chatId]="chatId"
                            [currentUser]="currentUser"
                            [usedFor]="'chat'"
                            [message]="message">
                        </app-message>
                    }
            
                    <app-seperator [date]="dateKey"></app-seperator>
                }
            </div>

        }

    </div>
}

