@if(usedFor === 'channel' || usedFor === 'dm-chat'){
    <div class="history-container">
        @for (dateKey of sortedDateKeys(groupedMessages); track $index) {

            @for (message of groupedMessages[dateKey]; track $index) {
                <app-message 
                    [channelId]="channelId"
                    [chatId]="chatId"
                    [currentUser]="currentUser"
                    [usedFor]="'channel'"
                    [message]="message">
                </app-message>
            }
    
            <app-seperator [date]="dateKey"></app-seperator>
        }
    </div>
} @else if (usedFor === 'thread') {
    <div class="history-container">
        <div class="answers-div">
            @for (dateKey of sortedDateKeys(groupedMessageAnswers); track $index) {

                <app-seperator [date]="dateKey"></app-seperator>

                @for (answer of groupedMessageAnswers[dateKey]; track $index) {
                    <app-message
                        [currentUser]="currentUser"
                        [otherUser]="userData"
                        [message]="answer"
                        [usedFor]="'thread'"
                        [activeMessage]="activeMessage"
                        [messageAnswers$]="activeMessageAnswers$"
                     ></app-message>
                }
            }
        </div>
        <div class="seperator-div">
            @if(allMessageAnswers && allMessageAnswers.length > 0){
                <span class="answer-count">{{allMessageAnswers.length}} @if(allMessageAnswers.length > 1 || allMessageAnswers.length === 0){Antworten} @else {Antwort}</span>
            }
            <div class="seperator"></div>
        </div>
        <div class="active-message-div">
            <app-message [message]="activeMessage"></app-message>
        </div>
    </div>
    

} 